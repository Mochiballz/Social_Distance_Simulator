[gd_scene load_steps=12 format=2]

[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Resources/Fonts/Score_Custom_Font.tres" type="DynamicFont" id=2]
[ext_resource path="res://Resources/Sprites/hand_sanitizer.png" type="Texture" id=3]
[ext_resource path="res://Scripts/World.gd" type="Script" id=4]
[ext_resource path="res://Scenes/SpawnPoint.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scripts/Timeline.gd" type="Script" id=6]
[ext_resource path="res://Scenes/Terrain.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scripts/Map.gd" type="Script" id=8]
[ext_resource path="res://Scripts/Interface.gd" type="Script" id=10]

[sub_resource type="StyleBoxFlat" id=1]
bg_color = Color( 0.698039, 0.27451, 0.27451, 0.862745 )
border_width_left = 12
border_width_top = 12
border_width_right = 12
border_width_bottom = 12
border_color = Color( 0.545098, 0.160784, 0.160784, 0.862745 )
corner_radius_top_left = 12
corner_radius_top_right = 12
corner_radius_bottom_right = 12
corner_radius_bottom_left = 12

[sub_resource type="StyleBoxFlat" id=2]
bg_color = Color( 0.156863, 0.156863, 0.156863, 0.784314 )
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
expand_margin_left = 4.0
expand_margin_right = 4.0
expand_margin_top = 4.0
expand_margin_bottom = 4.0
shadow_color = Color( 0, 0, 0, 0.196078 )
shadow_size = 1
shadow_offset = Vector2( 4, 4 )

[node name="World" type="Node2D"]
position = Vector2( 0, 1 )
script = ExtResource( 4 )

[node name="Map" type="Node2D" parent="."]
script = ExtResource( 8 )

[node name="Terrain" parent="Map" instance=ExtResource( 7 )]
position = Vector2( -192, 0 )

[node name="Spawners" type="Node2D" parent="."]
position = Vector2( 64, -1 )
__meta__ = {
"_edit_group_": true
}

[node name="SpawnPoint" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 64, -129 )

[node name="SpawnPoint2" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 192, -129 )

[node name="SpawnPoint3" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 320, -129 )

[node name="SpawnPoint4" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 448, -129 )

[node name="SpawnPoint5" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 576, -129 )

[node name="SpawnPoint6" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 704, -129 )

[node name="SpawnPoint7" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 832, -129 )

[node name="SpawnPoint8" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 960, -129 )

[node name="SpawnPoint9" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 1088, -128 )

[node name="SpawnPoint10" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 1216, -128 )

[node name="SpawnPoint11" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 1344, -128 )

[node name="SpawnPoint12" parent="Spawners" instance=ExtResource( 5 )]
position = Vector2( 1472, -128 )

[node name="Entities" type="YSort" parent="."]

[node name="Player" parent="Entities" instance=ExtResource( 1 )]
position = Vector2( 864, 447 )

[node name="RoundTimer" type="Timer" parent="."]

[node name="Interface" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 10 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Score" type="Label" parent="Interface"]
margin_left = 20.0
margin_top = 10.0
margin_right = 167.0
margin_bottom = 54.0
custom_fonts/font = ExtResource( 2 )
custom_colors/font_color = Color( 1, 0.980392, 0.513726, 1 )
text = "SCORE: "
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="Points" type="Label" parent="Interface/Score"]
margin_left = 147.0
margin_right = 493.0
margin_bottom = 44.0
custom_fonts/font = ExtResource( 2 )
text = "-1"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Items" type="Label" parent="Interface"]
margin_left = 20.0
margin_top = 751.0
margin_right = 154.0
margin_bottom = 795.0
custom_fonts/font = ExtResource( 2 )
custom_colors/font_color = Color( 1, 0.980392, 0.513726, 1 )
text = "ITEMS: "
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="ReviveContainer" type="PanelContainer" parent="Interface/Items"]
anchor_top = 0.364
anchor_bottom = 0.364
margin_left = 12.0
margin_top = 31.984
margin_right = 107.0
margin_bottom = 111.984
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sprite" type="Sprite" parent="Interface/Items/ReviveContainer"]
visible = false
position = Vector2( 44.6043, 40 )
scale = Vector2( 0.117986, 0.125 )
texture = ExtResource( 3 )

[node name="GameOver" type="CenterContainer" parent="Interface"]
pause_mode = 2
visible = false
margin_right = 1600.0
margin_bottom = 895.0
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="Interface/GameOver"]
margin_left = 692.0
margin_top = 413.0
margin_right = 908.0
margin_bottom = 481.0
size_flags_horizontal = 3
size_flags_vertical = 4
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Interface/GameOver/VBoxContainer"]
margin_right = 216.0
margin_bottom = 44.0
custom_fonts/font = ExtResource( 2 )
text = "Game Over!"

[node name="Buttons" type="HBoxContainer" parent="Interface/GameOver/VBoxContainer"]
margin_top = 48.0
margin_right = 216.0
margin_bottom = 68.0
alignment = 1

[node name="Retry" type="Button" parent="Interface/GameOver/VBoxContainer/Buttons"]
margin_left = 26.0
margin_right = 106.0
margin_bottom = 20.0
rect_min_size = Vector2( 80, 20 )
size_flags_horizontal = 4
text = "Retry"

[node name="Quit" type="Button" parent="Interface/GameOver/VBoxContainer/Buttons"]
margin_left = 110.0
margin_right = 190.0
margin_bottom = 20.0
rect_min_size = Vector2( 80, 20 )
size_flags_horizontal = 4
text = "Quit"

[node name="InfectedTimerBar" type="ProgressBar" parent="Interface"]
visible = false
anchor_left = 8.0
anchor_top = 0.775
anchor_right = 8.0
anchor_bottom = 0.775
margin_top = -1.90735e-06
margin_right = 960.0
margin_bottom = 48.0
custom_styles/fg = SubResource( 1 )
custom_styles/bg = SubResource( 2 )
value = 100.0
percent_visible = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Timer" type="Timer" parent="Interface/InfectedTimerBar"]
wait_time = 5.0

[node name="InterfaceCamera" type="Camera2D" parent="Interface"]
anchor_mode = 0
current = true
smoothing_enabled = true

[node name="Tween" type="Tween" parent="Interface"]

[node name="Timeline" type="Node" parent="."]
script = ExtResource( 6 )

[node name="SpawnTimers" type="Node" parent="."]

[node name="InfectedTimers" type="Node" parent="SpawnTimers"]

[node name="ItemTimers" type="Node" parent="SpawnTimers"]
[connection signal="velocity_change" from="Entities/Player" to="Interface" method="_on_Player_velocity_change"]
[connection signal="pressed" from="Interface/GameOver/VBoxContainer/Buttons/Retry" to="." method="_on_Retry_pressed"]
[connection signal="pressed" from="Interface/GameOver/VBoxContainer/Buttons/Quit" to="." method="_on_Quit_pressed"]
[connection signal="timeout" from="Interface/InfectedTimerBar/Timer" to="." method="_on_Timer_timeout"]
